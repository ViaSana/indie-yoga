<!--    Class_loop ----
    Pulls all the class info and images from site.data.indie-info -->
{% for class in site.data.indie-info.classes %}
<div class="relative flex py-6 {% cycle '', 'flex-row-reverse' %}">
    <div class="w-[60vw] bg-image aspect-[3/2]" style="background-image: url({{class.image}});"></div>
    <div class="absolute max-md:inset-x-14 z-10 p-4 top-24 text-d-blue md:w-[40vw] w-[82vw] {% cycle 'md:right-6 bg-yellow', 'md:left-6 bg-blue' %}">
        
        <h3 class="leading-[3.64rem] line-clamp-1">{{class.title}}</h3>

        <!-- Fancy Apline to use a show more toggle -->
        <p
            class="show-toggle"
            x-data="{ show: false, maxLength: 230, text: '', content: '' }"
            x-init="text = $el.firstElementChild.textContent.trim(); content = text.slice(0, maxLength)" 
            >
            <span x-text="show ? text : content" class="max-sm:hidden">{{class.description}}</span>
            <button
                class="show-toggle-btn"
                @click="show = !show"
                x-show="text.length > maxLength"
                x-text="show ? 'show less' : '...read more'"
            ></button>
        </p>
    </div>
</div>
{% endfor %}
