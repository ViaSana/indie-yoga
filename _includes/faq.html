<!-- 
    Apline controls the animation of things 
    Pulls Questions and Answers from FAQs.yml
-->
<div x-data="{ selected: null }">

    {% for item in site.data.faqs.things-to-know %}
        <div class="relative text-left">
            <button type="button" class="block w-full pt-6" 
                    @click="selected !== {{ forloop.index }} ? selected = {{ forloop.index }} : selected = null">
                <div class="flex items-center justify-between px-4 bg-yellow">
                    <h5 class="py-2 font-bold">{{ item.question }}</h5>
                    <div class="w-6 pr-8 ml-auto">
                        <svg width="24px" stroke-width="1.5" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" color="#000000"><path d="M6 9l6 6 6-6" stroke="#000000" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg></div>
                </div>
            </button>

            <div class="relative overflow-hidden transition-all duration-700 max-h-0" 
                    style="" x-ref="container{{ forloop.index }}" 
                    x-bind:style="selected == {{ forloop.index }} ? 'max-height: ' + $refs.container{{ forloop.index }}.scrollHeight + 'px' : ''">
                <div class="bg-yellow">
                    <p class="p-4">{{ item.answer }}</p>
                </div>
            </div>
        </div>
    {% endfor %}
</div>